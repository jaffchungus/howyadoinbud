<html>
  <head>
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="" />
    <link
      rel="stylesheet"
      as="style"
      onload="this.rel='stylesheet'"
      href="https://fonts.googleapis.com/css2?display=swap&amp;family=Noto+Sans%3Awght%40400%3B500%3B700%3B900&amp;family=Spline+Sans%3Awght%40400%3B500%3B700"
    />

    <title>Stitch Design</title>
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64," />

    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <style>
      .hidden {
        display: none;
      }
    </style>
  </head>
  <body>
    <div
      class="relative flex size-full min-h-screen flex-col bg-[#151b1e] dark justify-between group/design-root overflow-x-hidden"
      style='font-family: "Spline Sans", "Noto Sans", sans-serif;'
    >
      <div>
        <div class="flex items-center bg-[#151b1e] p-4 pb-2 justify-between">
          <h2 class="text-white text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center pl-12 pr-12">Rate your day</h2>
        </div>
        <h2 class="text-white tracking-light text-[28px] font-bold leading-tight px-4 text-center pb-3 pt-5">How was your day?</h2>
        <div class="flex flex-wrap gap-3 p-4">
          <label
            class="text-sm font-medium leading-normal flex items-center justify-center rounded-xl border border-[#3f515a] px-4 h-11 text-white has-[:checked]:border-[3px] has-[:checked]:px-3.5 has-[:checked]:border-[#4487a6] relative cursor-pointer"
          >
            😢
            <input type="radio" class="invisible absolute" name="rating" value="1" />
          </label>
          <label
            class="text-sm font-medium leading-normal flex items-center justify-center rounded-xl border border-[#3f515a] px-4 h-11 text-white has-[:checked]:border-[3px] has-[:checked]:px-3.5 has-[:checked]:border-[#4487a6] relative cursor-pointer"
          >
            😔
            <input type="radio" class="invisible absolute" name="rating" value="2" />
          </label>
          <label
            class="text-sm font-medium leading-normal flex items-center justify-center rounded-xl border border-[#3f515a] px-4 h-11 text-white has-[:checked]:border-[3px] has-[:checked]:px-3.5 has-[:checked]:border-[#4487a6] relative cursor-pointer"
          >
            😐
            <input type="radio" class="invisible absolute" name="rating" value="3" />
          </label>
          <label
            class="text-sm font-medium leading-normal flex items-center justify-center rounded-xl border border-[#3f515a] px-4 h-11 text-white has-[:checked]:border-[3px] has-[:checked]:px-3.5 has-[:checked]:border-[#4487a6] relative cursor-pointer"
          >
            😊
            <input type="radio" class="invisible absolute" name="rating" value="4" />
          </label>
          <label
            class="text-sm font-medium leading-normal flex items-center justify-center rounded-xl border border-[#3f515a] px-4 h-11 text-white has-[:checked]:border-[3px] has-[:checked]:px-3.5 has-[:checked]:border-[#4487a6] relative cursor-pointer"
          >
            😍
            <input type="radio" class="invisible absolute" name="rating" value="5" />
          </label>
          <label
            class="text-sm font-medium leading-normal flex items-center justify-center rounded-xl border border-[#3f515a] px-4 h-11 text-white has-[:checked]:border-[3px] has-[:checked]:px-3.5 has-[:checked]:border-[#4487a6] relative cursor-pointer"
          >
            🤩
            <input type="radio" class="invisible absolute" name="rating" value="6" />
          </label>
          <label
            class="text-sm font-medium leading-normal flex items-center justify-center rounded-xl border border-[#3f515a] px-4 h-11 text-white has-[:checked]:border-[3px] has-[:checked]:px-3.5 has-[:checked]:border-[#4487a6] relative cursor-pointer"
          >
            😎
            <input type="radio" class="invisible absolute" name="rating" value="7" />
          </label>
          <label
            class="text-sm font-medium leading-normal flex items-center justify-center rounded-xl border border-[#3f515a] px-4 h-11 text-white has-[:checked]:border-[3px] has-[:checked]:px-3.5 has-[:checked]:border-[#4487a6] relative cursor-pointer"
          >
            😈
            <input type="radio" class="invisible absolute" name="rating" value="8" />
          </label>
          <label
            class="text-sm font-medium leading-normal flex items-center justify-center rounded-xl border border-[#3f515a] px-4 h-11 text-white has-[:checked]:border-[3px] has-[:checked]:px-3.5 has-[:checked]:border-[#4487a6] relative cursor-pointer"
          >
            💩
            <input type="radio" class="invisible absolute" name="rating" value="9" />
          </label>
          <label
            class="text-sm font-medium leading-normal flex items-center justify-center rounded-xl border border-[#3f515a] px-4 h-11 text-white has-[:checked]:border-[3px] has-[:checked]:px-3.5 has-[:checked]:border-[#4487a6] relative cursor-pointer"
          >
            💀
            <input type="radio" class="invisible absolute" name="rating" value="10" />
          </label>
        </div>
      </div>
      <div>
        <div class="flex flex-wrap gap-4 p-4">
          <div class="flex min-w-[158px] flex-1 flex-col gap-2 rounded-xl p-6 bg-[#2c393f]">
            <p class="text-white text-base font-medium leading-normal">Average rating</p>
            <p id="average-rating" class="text-white tracking-light text-2xl font-bold leading-tight">0</p>
          </div>
          <div class="flex min-w-[158px] flex-1 flex-col gap-2 rounded-xl p-6 bg-[#2c393f]">
            <p class="text-white text-base font-medium leading-normal">Number of responses</p>
            <p id="response-count" class="text-white tracking-light text-2xl font-bold leading-tight">0</p>
          </div>
        </div>
        <div class="flex flex-col gap-3 p-4">
          <div class="flex gap-6 justify-between">
            <p id="calculating-text" class="text-white text-base font-medium leading-normal">Calculating...</p>
            <button id="submit-btn" class="bg-[#4487a6] text-white px-4 py-2 rounded">Submit</button>
          </div>
          <div class="rounded bg-[#3f515a]">
            <div id="progress-bar" class="h-2 rounded bg-[#4487a6]" style="width: 0%;"></div>
          </div>
          <p id="based-on" class="text-[#a0b2bb] text-sm font-normal leading-normal">Based on <span id="response-count-2">0</span> responses</p>
        </div>
        <div class="flex gap-2 border-t border-[#2c393f] bg-[#20292d] px-4 pb-3 pt-2">
          <a class="just flex flex-1 flex-col items-center justify-end gap-1 rounded-full text-white" href="#">
            <div class="text-white flex h-8 items-center justify-center" data-icon="House" data-size="24px" data-weight="fill">
              <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
                <path
                  d="M224,115.55V208a16,16,0,0,1-16,16H168a16,16,0,0,1-16-16V168a8,8,0,0,0-8-8H112a8,8,0,0,0-8,8v40a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V115.55a16,16,0,0,1,5.17-11.78l80-75.48.11-.11a16,16,0,0,1,21.53,0,1.14,1.14,0,0,0,.11.11l80,75.48A16,16,0,0,1,224,115.55Z"
                ></path>
              </svg>
            </div>
          </a>
          <a class="just flex flex-1 flex-col items-center justify-end gap-1 text-[#a0b2bb]" href="#">
            <div class="text-[#a0b2bb] flex h-8 items-center justify-center" data-icon="Calendar" data-size="24px" data-weight="regular">
              <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
                <path
                  d="M208,32H184V24a8,8,0,0,0-16,0v8H88V24a8,8,0,0,0-16,0v8H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM72,48v8a8,8,0,0,0,16,0V48h80v8a8,8,0,0,0,16,0V48h24V80H48V48ZM208,208H48V96H208V208Zm-96-88v64a8,8,0,0,1-16,0V132.94l-4.42,2.22a8,8,0,0,1-7.16-14.32l16-8A8,8,0,0,1,112,120Zm59.16,30.45L152,176h16a8,8,0,0,1,0,16H136a8,8,0,0,1-6.4-12.8l28.78-38.37A8,8,0,1,0,145.07,132a8,8,0,1,1-13.85-8A24,24,0,0,1,176,136,23.76,23.76,0,0,1,171.16,150.45Z"
                ></path>
              </svg>
            </div>
          </a>
          <a class="just flex flex-1 flex-col items-center justify-end gap-1 text-[#a0b2bb]" href="#">
            <div class="text-[#a0b2bb] flex h-8 items-center justify-center" data-icon="ChartLine" data-size="24px" data-weight="regular">
              <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
                <path
                  d="M232,208a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V48a8,8,0,0,1,16,0v94.37L90.73,98a8,8,0,0,1,10.07-.38l58.81,44.11L218.73,90a8,8,0,1,1,10.54,12l-64,56a8,8,0,0,1-10.07.38L96.39,114.29,40,163.63V200H224A8,8,0,0,1,232,208Z"
                ></path>
              </svg>
            </div>
          </a>
        </div>
        <div class="h-5 bg-[#20292d]"></div>
      </div>
    </div>

    <script>
      // Initialize ratings array from localStorage or empty array
      let ratings = JSON.parse(localStorage.getItem('ratings')) || [];

      // Update the UI with current data
      function updateUI() {
        const responseCount = ratings.length;
        const sum = ratings.reduce((a, b) => a + b, 0);
        const average = responseCount > 0 ? (sum / responseCount).toFixed(1) : 0;
        const progress = responseCount > 0 ? (sum / (responseCount * 10)) * 100 : 0;

        document.getElementById('average-rating').textContent = average;
        document.getElementById('response-count').textContent = responseCount;
        document.getElementById('response-count-2').textContent = responseCount;
        document.getElementById('progress-bar').style.width = `${progress}%`;

        // Show calculating text only if no responses yet
        document.getElementById('calculating-text').classList.toggle('hidden', responseCount > 0);
      }

      // Handle form submission
      document.getElementById('submit-btn').addEventListener('click', function() {
        const selectedRating = document.querySelector('input[name="rating"]:checked');

        if (selectedRating) {
          const ratingValue = parseInt(selectedRating.value);
          ratings.push(ratingValue);

          // Save to localStorage
          localStorage.setItem('ratings', JSON.stringify(ratings));

          // Update UI
          updateUI();

          // Reset selected rating
          selectedRating.checked = false;
        } else {
          alert('Please select a rating before submitting!');
        }
      });

      // Initialize UI on page load
      updateUI();
    </script>
  </body>
</html>
